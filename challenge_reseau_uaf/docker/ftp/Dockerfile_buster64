FROM debian:buster-slim

RUN echo "root:agoodserverpasswordtopreventanyattackbecauseitisverylong" | chpasswd

WORKDIR /root
RUN apt-get update -y && \
apt-get install -yq wget debconf-utils ssh vim telnet && \
echo "proftpd-basic shared/proftpd/inetd_or_standalone select standalone" | debconf-set-selections && \
wget http://launchpadlibrarian.net/106035897/libssl0.9.8_0.9.8o-5ubuntu1.7_amd64.deb && \
wget http://launchpadlibrarian.net/106035900/openssl_0.9.8o-5ubuntu1.7_amd64.deb && \
wget http://launchpadlibrarian.net/58185345/proftpd-basic_1.3.3a-4_amd64.deb && \
apt-get --fix-broken install -yq --allow-downgrades lsb-base ./libssl0.9.8_0.9.8o-5ubuntu1.7_amd64.deb ./openssl_0.9.8o-5ubuntu1.7_amd64.deb ./proftpd-basic_1.3.3a-4_amd64.deb && \
rm -f libssl0.9.8_0.9.8o-5ubuntu1.7_amd64.deb && \
rm -f openssl_0.9.8o-5ubuntu1.7_amd64.deb && \
rm -f proftpd-basic_1.3.3a-4_amd64.deb

#EXPOSE 20
#EXPOSE 21
#EXPOSE 22

ENTRYPOINT service proftpd start && service ssh start && sleep infinity

